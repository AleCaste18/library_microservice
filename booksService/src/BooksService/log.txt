2022-01-06 22:43:23.668 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-06 22:43:24.197 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-06 22:43:24.221 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-06 22:43:24.225 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-06 22:43:24.226 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-06 22:43:24.246 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-01-06 22:43:24.261 +00:00 [INF] No migrations were applied. The database is already up to date.
2022-01-06 22:43:24.453 +00:00 [INF] Now listening on: https://[::]:443
2022-01-06 22:43:24.453 +00:00 [INF] Now listening on: http://[::]:80
2022-01-06 22:43:24.454 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-06 22:43:24.454 +00:00 [INF] Hosting environment: Development
2022-01-06 22:43:24.455 +00:00 [INF] Content root path: /app
2022-01-06 22:43:34.885 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:1819/ - -
2022-01-06 22:43:34.937 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:1819/ - - - 307 0 - 52.9408ms
2022-01-06 22:43:34.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/ - -
2022-01-06 22:43:35.014 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/ - - - 404 0 - 32.6692ms
2022-01-06 22:43:37.276 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/index.html - -
2022-01-06 22:43:37.330 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/index.html - - - 200 - text/html;charset=utf-8 54.3849ms
2022-01-06 22:43:37.448 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - -
2022-01-06 22:43:37.518 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 69.6068ms
2022-01-06 22:43:42.956 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/api/Books - -
2022-01-06 22:43:42.960 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.GetAll (booksService)'
2022-01-06 22:43:42.981 +00:00 [INF] Route matched with {action = "GetAll", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller booksService.Controllers.BooksController (booksService).
2022-01-06 22:43:43.278 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-06 22:43:43.473 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[Category], [b].[Title]
FROM [Books] AS [b]
2022-01-06 22:43:43.497 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[booksService.Models.Book, booksService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-01-06 22:43:43.510 +00:00 [INF] Executed action booksService.Controllers.BooksController.GetAll (booksService) in 524.7878ms
2022-01-06 22:43:43.511 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.GetAll (booksService)'
2022-01-06 22:43:43.516 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/api/Books - - - 200 - application/json;+charset=utf-8 559.4291ms
2022-01-07 11:47:41.041 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 11:47:42.266 +00:00 [INF] Executed DbCommand (408ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [AppDbContext];
2022-01-07 11:47:42.440 +00:00 [INF] Executed DbCommand (171ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AppDbContext] SET READ_COMMITTED_SNAPSHOT ON;
END;
2022-01-07 11:47:42.465 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 11:47:42.601 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2022-01-07 11:47:42.603 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 11:47:42.626 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 11:47:42.632 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-01-07 11:47:42.653 +00:00 [INF] Applying migration '20220102191404_AddBookEntity'.
2022-01-07 11:47:42.676 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(max) NULL,
    [Author] nvarchar(max) NULL,
    [Category] nvarchar(max) NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id])
);
2022-01-07 11:47:42.678 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220102191404_AddBookEntity', N'5.0.13');
2022-01-07 11:47:42.951 +00:00 [INF] Now listening on: https://[::]:443
2022-01-07 11:47:42.952 +00:00 [INF] Now listening on: http://[::]:80
2022-01-07 11:47:42.953 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-07 11:47:42.953 +00:00 [INF] Hosting environment: Development
2022-01-07 11:47:42.954 +00:00 [INF] Content root path: /app
2022-01-07 11:47:51.514 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger - -
2022-01-07 11:47:51.548 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger - - - 301 0 - 35.5738ms
2022-01-07 11:47:51.557 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/index.html - -
2022-01-07 11:47:51.607 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/index.html - - - 200 - text/html;charset=utf-8 49.8982ms
2022-01-07 11:47:51.637 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/swagger-ui-bundle.js - -
2022-01-07 11:47:51.637 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/swagger-ui.css - -
2022-01-07 11:47:51.637 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/swagger-ui-standalone-preset.js - -
2022-01-07 11:47:51.695 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-01-07 11:47:51.696 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/swagger-ui.css - - - 200 142933 text/css 59.1403ms
2022-01-07 11:47:51.715 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-01-07 11:47:51.717 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/swagger-ui-standalone-preset.js - - - 200 311804 application/javascript 79.9923ms
2022-01-07 11:47:51.760 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-01-07 11:47:51.761 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/swagger-ui-bundle.js - - - 200 986342 application/javascript 124.2317ms
2022-01-07 11:47:51.895 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - -
2022-01-07 11:47:51.919 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/favicon-32x32.png - -
2022-01-07 11:47:51.920 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-01-07 11:47:51.921 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/favicon-32x32.png - - - 200 628 image/png 2.1586ms
2022-01-07 11:47:51.970 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 75.0506ms
2022-01-07 11:47:59.213 +00:00 [INF] Request starting HTTP/2 POST https://localhost:1818/api/Books application/json 61
2022-01-07 11:47:59.241 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 11:47:59.291 +00:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(booksService.Models.Book) on controller booksService.Controllers.BooksController (booksService).
2022-01-07 11:47:59.390 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 11:47:59.557 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Author], [Category], [Title])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Books]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-01-07 11:47:59.895 +00:00 [INF] Executed action booksService.Controllers.BooksController.Create (booksService) in 599.458ms
2022-01-07 11:47:59.896 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 11:47:59.899 +00:00 [ERR] An unhandled exception has occurred while executing the request.
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.Impl.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at booksService.Controllers.BooksController.PublishToMessageQueue(String integrationEvent, String eventData) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 33
   at booksService.Controllers.BooksController.Create(Book book) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 76
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-07 11:47:59.931 +00:00 [INF] Request finished HTTP/2 POST https://localhost:1818/api/Books application/json 61 - 500 - text/plain 718.5471ms
2022-01-07 11:56:19.834 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 11:56:20.282 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 11:56:20.305 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 11:56:20.308 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 11:56:20.309 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 11:56:20.326 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-01-07 11:56:20.340 +00:00 [INF] No migrations were applied. The database is already up to date.
2022-01-07 11:56:20.503 +00:00 [INF] Now listening on: https://[::]:443
2022-01-07 11:56:20.503 +00:00 [INF] Now listening on: http://[::]:80
2022-01-07 11:56:20.504 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-07 11:56:20.504 +00:00 [INF] Hosting environment: Development
2022-01-07 11:56:20.504 +00:00 [INF] Content root path: /app
2022-01-07 11:56:43.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/index.html - -
2022-01-07 11:56:44.078 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/index.html - - - 200 - text/html;charset=utf-8 87.0690ms
2022-01-07 11:56:44.295 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - -
2022-01-07 11:56:44.365 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 69.8449ms
2022-01-07 11:56:53.493 +00:00 [INF] Request starting HTTP/2 POST https://localhost:1818/api/Books application/json 63
2022-01-07 11:56:53.523 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 11:56:53.551 +00:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(booksService.Models.Book) on controller booksService.Controllers.BooksController (booksService).
2022-01-07 11:56:53.597 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 11:56:53.771 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Author], [Category], [Title])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Books]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-01-07 11:56:54.008 +00:00 [INF] Executed action booksService.Controllers.BooksController.Create (booksService) in 452.6672ms
2022-01-07 11:56:54.009 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 11:56:54.012 +00:00 [ERR] An unhandled exception has occurred while executing the request.
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.Impl.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at booksService.Controllers.BooksController.PublishToMessageQueue(String integrationEvent, String eventData) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 38
   at booksService.Controllers.BooksController.Create(Book book) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 81
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-07 11:56:54.065 +00:00 [INF] Request finished HTTP/2 POST https://localhost:1818/api/Books application/json 63 - 500 - text/plain 573.1492ms
2022-01-07 12:01:21.474 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 12:01:21.982 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 12:01:22.005 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 12:01:22.008 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 12:01:22.009 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 12:01:22.027 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-01-07 12:01:22.042 +00:00 [INF] No migrations were applied. The database is already up to date.
2022-01-07 12:01:22.224 +00:00 [INF] Now listening on: https://[::]:443
2022-01-07 12:01:22.224 +00:00 [INF] Now listening on: http://[::]:80
2022-01-07 12:01:22.225 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-07 12:01:22.225 +00:00 [INF] Hosting environment: Development
2022-01-07 12:01:22.226 +00:00 [INF] Content root path: /app
2022-01-07 12:01:38.512 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/index.html - -
2022-01-07 12:01:38.600 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/index.html - - - 200 - text/html;charset=utf-8 89.5107ms
2022-01-07 12:01:38.715 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - -
2022-01-07 12:01:38.780 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 64.8870ms
2022-01-07 12:01:41.935 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/api/Books - -
2022-01-07 12:01:41.962 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.GetAll (booksService)'
2022-01-07 12:01:41.982 +00:00 [INF] Route matched with {action = "GetAll", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller booksService.Controllers.BooksController (booksService).
2022-01-07 12:01:41.987 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 12:01:42.183 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[Category], [b].[Title]
FROM [Books] AS [b]
2022-01-07 12:01:42.206 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[booksService.Models.Book, booksService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-01-07 12:01:42.218 +00:00 [INF] Executed action booksService.Controllers.BooksController.GetAll (booksService) in 232.2899ms
2022-01-07 12:01:42.219 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.GetAll (booksService)'
2022-01-07 12:01:42.224 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/api/Books - - - 200 - application/json;+charset=utf-8 289.1668ms
2022-01-07 12:01:46.051 +00:00 [INF] Request starting HTTP/2 POST https://localhost:1818/api/Books application/json 63
2022-01-07 12:01:46.059 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 12:01:46.069 +00:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(booksService.Models.Book) on controller booksService.Controllers.BooksController (booksService).
2022-01-07 12:01:46.149 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 12:01:46.298 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Author], [Category], [Title])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Books]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-01-07 12:01:46.525 +00:00 [INF] Executed action booksService.Controllers.BooksController.Create (booksService) in 455.0811ms
2022-01-07 12:01:46.525 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 12:01:46.526 +00:00 [ERR] An unhandled exception has occurred while executing the request.
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.Impl.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at booksService.Controllers.BooksController.PublishToMessageQueue(String integrationEvent, String eventData) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 38
   at booksService.Controllers.BooksController.Create(Book book) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 81
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-07 12:01:46.584 +00:00 [INF] Request finished HTTP/2 POST https://localhost:1818/api/Books application/json 63 - 500 - text/plain 533.9209ms
2022-01-07 12:19:06.088 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 12:19:06.977 +00:00 [INF] Executed DbCommand (334ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [AppDbContext];
2022-01-07 12:19:07.142 +00:00 [INF] Executed DbCommand (162ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AppDbContext] SET READ_COMMITTED_SNAPSHOT ON;
END;
2022-01-07 12:19:07.164 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 12:19:07.255 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2022-01-07 12:19:07.257 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 12:19:07.273 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 12:19:07.278 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-01-07 12:19:07.294 +00:00 [INF] Applying migration '20220102191404_AddBookEntity'.
2022-01-07 12:19:07.313 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(max) NULL,
    [Author] nvarchar(max) NULL,
    [Category] nvarchar(max) NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id])
);
2022-01-07 12:19:07.315 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220102191404_AddBookEntity', N'5.0.13');
2022-01-07 12:19:07.523 +00:00 [INF] Now listening on: https://[::]:443
2022-01-07 12:19:07.524 +00:00 [INF] Now listening on: http://[::]:80
2022-01-07 12:19:07.524 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-07 12:19:07.525 +00:00 [INF] Hosting environment: Development
2022-01-07 12:19:07.526 +00:00 [INF] Content root path: /app
2022-01-07 12:21:17.286 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/index.html - -
2022-01-07 12:21:17.364 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/index.html - - - 200 - text/html;charset=utf-8 79.4258ms
2022-01-07 12:21:17.541 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - -
2022-01-07 12:21:17.616 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 74.6134ms
2022-01-07 12:21:23.146 +00:00 [INF] Request starting HTTP/2 POST https://localhost:1818/api/Books application/json 63
2022-01-07 12:21:23.171 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 12:21:23.199 +00:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(booksService.Models.Book) on controller booksService.Controllers.BooksController (booksService).
2022-01-07 12:21:23.254 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 12:21:23.430 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Author], [Category], [Title])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Books]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-01-07 12:21:23.709 +00:00 [INF] Executed action booksService.Controllers.BooksController.Create (booksService) in 506.1617ms
2022-01-07 12:21:23.710 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 12:21:23.714 +00:00 [ERR] An unhandled exception has occurred while executing the request.
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.Impl.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at booksService.Controllers.BooksController.PublishToMessageQueue(String integrationEvent, String eventData) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 38
   at booksService.Controllers.BooksController.Create(Book book) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 81
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-07 12:21:23.749 +00:00 [INF] Request finished HTTP/2 POST https://localhost:1818/api/Books application/json 63 - 500 - text/plain 602.5618ms
2022-01-07 12:25:12.292 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 12:25:12.801 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 12:25:12.824 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 12:25:12.827 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 12:25:12.828 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 12:25:12.846 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-01-07 12:25:12.860 +00:00 [INF] No migrations were applied. The database is already up to date.
2022-01-07 12:25:13.054 +00:00 [INF] Now listening on: https://[::]:443
2022-01-07 12:25:13.054 +00:00 [INF] Now listening on: http://[::]:80
2022-01-07 12:25:13.055 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-07 12:25:13.055 +00:00 [INF] Hosting environment: Development
2022-01-07 12:25:13.056 +00:00 [INF] Content root path: /app
2022-01-07 12:25:14.131 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/index.html - -
2022-01-07 12:25:14.216 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/index.html - - - 200 - text/html;charset=utf-8 86.5631ms
2022-01-07 12:25:14.378 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - -
2022-01-07 12:25:14.451 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 73.2400ms
2022-01-07 12:25:17.439 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/api/Books - -
2022-01-07 12:25:17.469 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.GetAll (booksService)'
2022-01-07 12:25:17.491 +00:00 [INF] Route matched with {action = "GetAll", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller booksService.Controllers.BooksController (booksService).
2022-01-07 12:25:17.497 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 12:25:17.696 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[Category], [b].[Title]
FROM [Books] AS [b]
2022-01-07 12:25:17.721 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[booksService.Models.Book, booksService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-01-07 12:25:17.733 +00:00 [INF] Executed action booksService.Controllers.BooksController.GetAll (booksService) in 237.6185ms
2022-01-07 12:25:17.735 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.GetAll (booksService)'
2022-01-07 12:25:17.740 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/api/Books - - - 200 - application/json;+charset=utf-8 301.0214ms
2022-01-07 12:25:21.946 +00:00 [INF] Request starting HTTP/2 POST https://localhost:1818/api/Books application/json 63
2022-01-07 12:25:21.947 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 12:25:21.958 +00:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(booksService.Models.Book) on controller booksService.Controllers.BooksController (booksService).
2022-01-07 12:25:22.033 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 12:25:22.186 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Author], [Category], [Title])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Books]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-01-07 12:25:22.455 +00:00 [INF] Executed action booksService.Controllers.BooksController.Create (booksService) in 496.4103ms
2022-01-07 12:25:22.455 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 12:25:22.456 +00:00 [ERR] An unhandled exception has occurred while executing the request.
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.Impl.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at booksService.Controllers.BooksController.PublishToMessageQueue(String integrationEvent, String eventData) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 38
   at booksService.Controllers.BooksController.Create(Book book) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-07 12:25:22.494 +00:00 [INF] Request finished HTTP/2 POST https://localhost:1818/api/Books application/json 63 - 500 - text/plain 548.3478ms
2022-01-07 12:37:20.911 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 12:37:21.422 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 12:37:21.445 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 12:37:21.449 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 12:37:21.450 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 12:37:21.468 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-01-07 12:37:21.482 +00:00 [INF] No migrations were applied. The database is already up to date.
2022-01-07 12:37:21.666 +00:00 [INF] Now listening on: https://[::]:443
2022-01-07 12:37:21.667 +00:00 [INF] Now listening on: http://[::]:80
2022-01-07 12:37:21.667 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-07 12:37:21.667 +00:00 [INF] Hosting environment: Development
2022-01-07 12:37:21.668 +00:00 [INF] Content root path: /app
2022-01-07 12:37:25.951 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/index.html - -
2022-01-07 12:37:26.042 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/index.html - - - 200 - text/html;charset=utf-8 92.6661ms
2022-01-07 12:37:26.753 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - -
2022-01-07 12:37:26.823 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 69.0696ms
2022-01-07 12:37:30.867 +00:00 [INF] Request starting HTTP/2 POST https://localhost:1818/api/Books application/json 63
2022-01-07 12:37:30.893 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 12:37:30.920 +00:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(booksService.Models.Book) on controller booksService.Controllers.BooksController (booksService).
2022-01-07 12:37:30.978 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 12:37:31.152 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Author], [Category], [Title])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Books]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-01-07 12:37:31.426 +00:00 [INF] Executed action booksService.Controllers.BooksController.Create (booksService) in 502.8803ms
2022-01-07 12:37:31.428 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 12:37:31.430 +00:00 [ERR] An unhandled exception has occurred while executing the request.
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.Impl.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at booksService.Controllers.BooksController.PublishToMessageQueue(String integrationEvent, String eventData) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 38
   at booksService.Controllers.BooksController.Create(Book book) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-07 12:37:31.473 +00:00 [INF] Request finished HTTP/2 POST https://localhost:1818/api/Books application/json 63 - 500 - text/plain 607.5326ms
2022-01-07 12:39:32.698 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 12:39:33.221 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 12:39:33.246 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 12:39:33.250 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 12:39:33.251 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 12:39:33.271 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-01-07 12:39:33.285 +00:00 [INF] No migrations were applied. The database is already up to date.
2022-01-07 12:39:33.472 +00:00 [INF] Now listening on: https://[::]:443
2022-01-07 12:39:33.472 +00:00 [INF] Now listening on: http://[::]:80
2022-01-07 12:39:33.473 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-07 12:39:33.473 +00:00 [INF] Hosting environment: Development
2022-01-07 12:39:33.474 +00:00 [INF] Content root path: /app
2022-01-07 12:39:35.565 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/index.html - -
2022-01-07 12:39:35.656 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/index.html - - - 200 - text/html;charset=utf-8 92.8931ms
2022-01-07 12:39:35.838 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - -
2022-01-07 12:39:35.907 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 69.1385ms
2022-01-07 12:39:38.286 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/api/Books - -
2022-01-07 12:39:38.316 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.GetAll (booksService)'
2022-01-07 12:39:38.338 +00:00 [INF] Route matched with {action = "GetAll", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller booksService.Controllers.BooksController (booksService).
2022-01-07 12:39:38.344 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 12:39:38.532 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[Category], [b].[Title]
FROM [Books] AS [b]
2022-01-07 12:39:38.555 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[booksService.Models.Book, booksService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-01-07 12:39:38.567 +00:00 [INF] Executed action booksService.Controllers.BooksController.GetAll (booksService) in 225.2108ms
2022-01-07 12:39:38.568 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.GetAll (booksService)'
2022-01-07 12:39:38.572 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/api/Books - - - 200 - application/json;+charset=utf-8 286.5024ms
2022-01-07 12:39:42.958 +00:00 [INF] Request starting HTTP/2 POST https://localhost:1818/api/Books application/json 63
2022-01-07 12:39:42.964 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 12:39:42.975 +00:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(booksService.Models.Book) on controller booksService.Controllers.BooksController (booksService).
2022-01-07 12:39:43.053 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 12:39:43.202 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Author], [Category], [Title])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Books]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-01-07 12:39:43.466 +00:00 [INF] Executed action booksService.Controllers.BooksController.Create (booksService) in 490.1422ms
2022-01-07 12:39:43.466 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 12:39:43.467 +00:00 [ERR] An unhandled exception has occurred while executing the request.
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.Impl.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at booksService.Controllers.BooksController.PublishToMessageQueue(String integrationEvent, String eventData) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 34
   at booksService.Controllers.BooksController.Create(Book book) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-07 12:39:43.503 +00:00 [INF] Request finished HTTP/2 POST https://localhost:1818/api/Books application/json 63 - 500 - text/plain 545.0229ms
2022-01-07 12:41:05.253 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 12:41:05.765 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 12:41:05.801 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 12:41:05.805 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 12:41:05.806 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 12:41:05.826 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-01-07 12:41:05.842 +00:00 [INF] No migrations were applied. The database is already up to date.
2022-01-07 12:41:06.036 +00:00 [INF] Now listening on: https://[::]:443
2022-01-07 12:41:06.036 +00:00 [INF] Now listening on: http://[::]:80
2022-01-07 12:41:06.037 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-07 12:41:06.037 +00:00 [INF] Hosting environment: Development
2022-01-07 12:41:06.037 +00:00 [INF] Content root path: /app
2022-01-07 12:41:06.907 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/index.html - -
2022-01-07 12:41:06.997 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/index.html - - - 200 - text/html;charset=utf-8 91.4185ms
2022-01-07 12:41:07.206 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - -
2022-01-07 12:41:07.298 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 91.7901ms
2022-01-07 12:41:11.917 +00:00 [INF] Request starting HTTP/2 POST https://localhost:1818/api/Books application/json 63
2022-01-07 12:41:11.944 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 12:41:11.970 +00:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(booksService.Models.Book) on controller booksService.Controllers.BooksController (booksService).
2022-01-07 12:41:12.030 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 12:41:12.205 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Author], [Category], [Title])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Books]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-01-07 12:41:12.466 +00:00 [INF] Executed action booksService.Controllers.BooksController.Create (booksService) in 491.6279ms
2022-01-07 12:41:12.467 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 12:41:12.469 +00:00 [ERR] An unhandled exception has occurred while executing the request.
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.Impl.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at booksService.Controllers.BooksController.PublishToMessageQueue(String integrationEvent, String eventData) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 34
   at booksService.Controllers.BooksController.Create(Book book) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-07 12:41:12.509 +00:00 [INF] Request finished HTTP/2 POST https://localhost:1818/api/Books application/json 63 - 500 - text/plain 592.1443ms
2022-01-07 13:10:46.783 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 13:10:47.352 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 13:10:47.376 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 13:10:47.379 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 13:10:47.380 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 13:10:47.399 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-01-07 13:10:47.413 +00:00 [INF] No migrations were applied. The database is already up to date.
2022-01-07 13:10:47.613 +00:00 [INF] Now listening on: https://[::]:443
2022-01-07 13:10:47.614 +00:00 [INF] Now listening on: http://[::]:80
2022-01-07 13:10:47.615 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-07 13:10:47.615 +00:00 [INF] Hosting environment: Development
2022-01-07 13:10:47.616 +00:00 [INF] Content root path: /app
2022-01-07 13:11:06.815 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/index.html - -
2022-01-07 13:11:06.919 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/index.html - - - 200 - text/html;charset=utf-8 106.6740ms
2022-01-07 13:11:07.595 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - -
2022-01-07 13:11:07.665 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 70.4862ms
2022-01-07 13:11:10.287 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/api/Books - -
2022-01-07 13:11:10.318 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.GetAll (booksService)'
2022-01-07 13:11:10.339 +00:00 [INF] Route matched with {action = "GetAll", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller booksService.Controllers.BooksController (booksService).
2022-01-07 13:11:10.345 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 13:11:10.539 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[Category], [b].[Title]
FROM [Books] AS [b]
2022-01-07 13:11:10.562 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[booksService.Models.Book, booksService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-01-07 13:11:10.574 +00:00 [INF] Executed action booksService.Controllers.BooksController.GetAll (booksService) in 230.5889ms
2022-01-07 13:11:10.575 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.GetAll (booksService)'
2022-01-07 13:11:10.580 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/api/Books - - - 200 - application/json;+charset=utf-8 292.9304ms
2022-01-07 13:11:15.658 +00:00 [INF] Request starting HTTP/2 POST https://localhost:1818/api/Books application/json 63
2022-01-07 13:11:15.660 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 13:11:15.672 +00:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(booksService.Models.Book) on controller booksService.Controllers.BooksController (booksService).
2022-01-07 13:11:15.765 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 13:11:15.915 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Author], [Category], [Title])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Books]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-01-07 13:11:16.181 +00:00 [INF] Executed action booksService.Controllers.BooksController.Create (booksService) in 508.2673ms
2022-01-07 13:11:16.181 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 13:11:16.183 +00:00 [ERR] An unhandled exception has occurred while executing the request.
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.Impl.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at booksService.Controllers.BooksController.PublishToMessageQueue(String integrationEvent, String eventData) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 34
   at booksService.Controllers.BooksController.Create(Book book) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-07 13:11:16.220 +00:00 [INF] Request finished HTTP/2 POST https://localhost:1818/api/Books application/json 63 - 500 - text/plain 561.6183ms
2022-01-07 13:17:59.155 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 13:17:59.653 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 13:17:59.677 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 13:17:59.681 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 13:17:59.682 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 13:17:59.703 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-01-07 13:17:59.724 +00:00 [INF] No migrations were applied. The database is already up to date.
2022-01-07 13:17:59.915 +00:00 [INF] Now listening on: https://[::]:443
2022-01-07 13:17:59.915 +00:00 [INF] Now listening on: http://[::]:80
2022-01-07 13:17:59.916 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-07 13:17:59.916 +00:00 [INF] Hosting environment: Development
2022-01-07 13:17:59.917 +00:00 [INF] Content root path: /app
2022-01-07 13:23:04.034 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 13:23:04.557 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 13:23:04.581 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 13:23:04.584 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 13:23:04.585 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 13:23:04.604 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-01-07 13:23:04.618 +00:00 [INF] No migrations were applied. The database is already up to date.
2022-01-07 13:23:04.803 +00:00 [INF] Now listening on: https://[::]:443
2022-01-07 13:23:04.803 +00:00 [INF] Now listening on: http://[::]:80
2022-01-07 13:23:04.804 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-07 13:23:04.804 +00:00 [INF] Hosting environment: Development
2022-01-07 13:23:04.804 +00:00 [INF] Content root path: /app
2022-01-07 13:27:50.966 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 13:27:51.463 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 13:27:51.486 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 13:27:51.490 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 13:27:51.491 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 13:27:51.508 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-01-07 13:27:51.523 +00:00 [INF] No migrations were applied. The database is already up to date.
2022-01-07 13:27:51.717 +00:00 [INF] Now listening on: https://[::]:443
2022-01-07 13:27:51.717 +00:00 [INF] Now listening on: http://[::]:80
2022-01-07 13:27:51.718 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-07 13:27:51.718 +00:00 [INF] Hosting environment: Development
2022-01-07 13:27:51.718 +00:00 [INF] Content root path: /app
2022-01-07 13:27:53.579 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/index.html - -
2022-01-07 13:27:53.668 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/index.html - - - 200 - text/html;charset=utf-8 90.2377ms
2022-01-07 13:27:54.386 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - -
2022-01-07 13:27:54.457 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 69.5233ms
2022-01-07 13:27:57.861 +00:00 [INF] Request starting HTTP/2 POST https://localhost:1818/api/Books application/json 63
2022-01-07 13:27:57.887 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 13:27:57.914 +00:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(booksService.Models.Book) on controller booksService.Controllers.BooksController (booksService).
2022-01-07 13:27:57.974 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 13:27:58.152 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Author], [Category], [Title])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Books]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-01-07 13:27:58.413 +00:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2022-01-07 13:27:58.417 +00:00 [INF] Executed action booksService.Controllers.BooksController.Create (booksService) in 498.8189ms
2022-01-07 13:27:58.418 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 13:27:58.424 +00:00 [INF] Request finished HTTP/2 POST https://localhost:1818/api/Books application/json 63 - 200 0 - 563.5600ms
2022-01-07 13:29:52.012 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 13:29:52.526 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 13:29:52.550 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 13:29:52.553 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 13:29:52.554 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 13:29:52.574 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-01-07 13:29:52.590 +00:00 [INF] No migrations were applied. The database is already up to date.
2022-01-07 13:29:52.783 +00:00 [INF] Now listening on: https://[::]:443
2022-01-07 13:29:52.783 +00:00 [INF] Now listening on: http://[::]:80
2022-01-07 13:29:52.784 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-07 13:29:52.784 +00:00 [INF] Hosting environment: Development
2022-01-07 13:29:52.784 +00:00 [INF] Content root path: /app
2022-01-07 13:29:59.608 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/index.html - -
2022-01-07 13:29:59.704 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/index.html - - - 200 - text/html;charset=utf-8 98.2550ms
2022-01-07 13:29:59.870 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - -
2022-01-07 13:29:59.918 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/index.html - -
2022-01-07 13:29:59.920 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/index.html - - - 200 - text/html;charset=utf-8 2.0520ms
2022-01-07 13:29:59.949 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 79.0165ms
2022-01-07 13:30:00.012 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - -
2022-01-07 13:30:00.015 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 2.4987ms
2022-01-07 13:30:05.860 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/api/Books - -
2022-01-07 13:30:05.891 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.GetAll (booksService)'
2022-01-07 13:30:05.912 +00:00 [INF] Route matched with {action = "GetAll", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller booksService.Controllers.BooksController (booksService).
2022-01-07 13:30:05.919 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 13:30:06.109 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[Category], [b].[Title]
FROM [Books] AS [b]
2022-01-07 13:30:06.132 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[booksService.Models.Book, booksService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-01-07 13:30:06.145 +00:00 [INF] Executed action booksService.Controllers.BooksController.GetAll (booksService) in 229.3908ms
2022-01-07 13:30:06.146 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.GetAll (booksService)'
2022-01-07 13:30:06.151 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/api/Books - - - 200 - application/json;+charset=utf-8 290.9527ms
2022-01-07 13:30:40.436 +00:00 [INF] Request starting HTTP/2 POST https://localhost:1818/api/Books application/json 82
2022-01-07 13:30:40.438 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 13:30:40.472 +00:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(booksService.Models.Book) on controller booksService.Controllers.BooksController (booksService).
2022-01-07 13:30:40.539 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 13:30:40.690 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Author], [Category], [Title])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Books]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-01-07 13:30:40.940 +00:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2022-01-07 13:30:40.941 +00:00 [INF] Executed action booksService.Controllers.BooksController.Create (booksService) in 468.0897ms
2022-01-07 13:30:40.941 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 13:30:40.942 +00:00 [INF] Request finished HTTP/2 POST https://localhost:1818/api/Books application/json 82 - 200 0 - 507.8512ms
2022-01-07 13:30:44.454 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/api/Books - -
2022-01-07 13:30:44.455 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.GetAll (booksService)'
2022-01-07 13:30:44.455 +00:00 [INF] Route matched with {action = "GetAll", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller booksService.Controllers.BooksController (booksService).
2022-01-07 13:30:44.458 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 13:30:44.505 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[Category], [b].[Title]
FROM [Books] AS [b]
2022-01-07 13:30:44.508 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[booksService.Models.Book, booksService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-01-07 13:30:44.509 +00:00 [INF] Executed action booksService.Controllers.BooksController.GetAll (booksService) in 53.1999ms
2022-01-07 13:30:44.510 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.GetAll (booksService)'
2022-01-07 13:30:44.510 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/api/Books - - - 200 - application/json;+charset=utf-8 56.3410ms
2022-01-07 13:41:10.892 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 13:41:11.406 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 13:41:11.429 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 13:41:11.432 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 13:41:11.433 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 13:41:11.451 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-01-07 13:41:11.466 +00:00 [INF] No migrations were applied. The database is already up to date.
2022-01-07 13:41:11.657 +00:00 [INF] Now listening on: https://[::]:443
2022-01-07 13:41:11.657 +00:00 [INF] Now listening on: http://[::]:80
2022-01-07 13:41:11.657 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-07 13:41:11.658 +00:00 [INF] Hosting environment: Development
2022-01-07 13:41:11.658 +00:00 [INF] Content root path: /app
2022-01-07 13:52:20.999 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 13:52:21.504 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 13:52:21.528 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 13:52:21.531 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 13:52:21.532 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 13:52:21.551 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-01-07 13:52:21.566 +00:00 [INF] No migrations were applied. The database is already up to date.
2022-01-07 13:52:21.759 +00:00 [INF] Now listening on: https://[::]:443
2022-01-07 13:52:21.759 +00:00 [INF] Now listening on: http://[::]:80
2022-01-07 13:52:21.760 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-07 13:52:21.760 +00:00 [INF] Hosting environment: Development
2022-01-07 13:52:21.761 +00:00 [INF] Content root path: /app
2022-01-07 13:52:22.657 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/index.html - -
2022-01-07 13:52:22.744 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/index.html - - - 200 - text/html;charset=utf-8 88.0160ms
2022-01-07 13:52:22.910 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - -
2022-01-07 13:52:22.980 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 70.2611ms
2022-01-07 13:52:26.520 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/api/Books - -
2022-01-07 13:52:26.553 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.GetAll (booksService)'
2022-01-07 13:52:26.574 +00:00 [INF] Route matched with {action = "GetAll", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller booksService.Controllers.BooksController (booksService).
2022-01-07 13:52:26.582 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 13:52:26.777 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[Category], [b].[Title]
FROM [Books] AS [b]
2022-01-07 13:52:26.799 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[booksService.Models.Book, booksService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-01-07 13:52:26.812 +00:00 [INF] Executed action booksService.Controllers.BooksController.GetAll (booksService) in 233.2669ms
2022-01-07 13:52:26.813 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.GetAll (booksService)'
2022-01-07 13:52:26.817 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/api/Books - - - 200 - application/json;+charset=utf-8 297.7876ms
2022-01-07 13:52:49.447 +00:00 [INF] Request starting HTTP/2 POST https://localhost:1818/api/Books application/json 66
2022-01-07 13:52:49.449 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 13:52:49.465 +00:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(booksService.Models.Book) on controller booksService.Controllers.BooksController (booksService).
2022-01-07 13:52:49.549 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 13:52:49.702 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Author], [Category], [Title])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Books]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-01-07 13:52:49.979 +00:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2022-01-07 13:52:49.980 +00:00 [INF] Executed action booksService.Controllers.BooksController.Create (booksService) in 512.7492ms
2022-01-07 13:52:49.980 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 13:52:49.981 +00:00 [INF] Request finished HTTP/2 POST https://localhost:1818/api/Books application/json 66 - 200 0 - 534.2157ms
2022-01-07 13:56:36.104 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 13:56:36.613 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 13:56:36.637 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 13:56:36.641 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-01-07 13:56:36.642 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-01-07 13:56:36.662 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-01-07 13:56:36.680 +00:00 [INF] No migrations were applied. The database is already up to date.
2022-01-07 13:56:36.869 +00:00 [INF] Now listening on: https://[::]:443
2022-01-07 13:56:36.869 +00:00 [INF] Now listening on: http://[::]:80
2022-01-07 13:56:36.870 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-07 13:56:36.870 +00:00 [INF] Hosting environment: Development
2022-01-07 13:56:36.871 +00:00 [INF] Content root path: /app
2022-01-07 13:56:42.692 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/index.html - -
2022-01-07 13:56:42.779 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/index.html - - - 200 - text/html;charset=utf-8 88.1809ms
2022-01-07 13:56:42.958 +00:00 [INF] Request starting HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - -
2022-01-07 13:56:43.026 +00:00 [INF] Request finished HTTP/2 GET https://localhost:1818/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 67.9286ms
2022-01-07 13:56:47.539 +00:00 [INF] Request starting HTTP/2 POST https://localhost:1818/api/Books application/json 63
2022-01-07 13:56:47.566 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 13:56:47.594 +00:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(booksService.Models.Book) on controller booksService.Controllers.BooksController (booksService).
2022-01-07 13:56:47.652 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 13:56:47.834 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Author], [Category], [Title])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Books]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-01-07 13:56:48.105 +00:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2022-01-07 13:56:48.110 +00:00 [INF] Executed action booksService.Controllers.BooksController.Create (booksService) in 511.2326ms
2022-01-07 13:56:48.111 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 13:56:48.117 +00:00 [INF] Request finished HTTP/2 POST https://localhost:1818/api/Books application/json 63 - 200 0 - 578.3458ms
2022-01-07 13:56:58.524 +00:00 [INF] Request starting HTTP/2 POST https://localhost:1818/api/Books application/json 64
2022-01-07 13:56:58.526 +00:00 [INF] Executing endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 13:56:58.526 +00:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(booksService.Models.Book) on controller booksService.Controllers.BooksController (booksService).
2022-01-07 13:56:58.553 +00:00 [INF] Entity Framework Core 5.0.13 initialized 'BookContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-01-07 13:56:58.566 +00:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [Author], [Category], [Title])
VALUES (@p0, @p1, @p2, @p3);
2022-01-07 13:56:58.610 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'booksService.Data.BookContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Books' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:bac83e35-3435-433a-b0b3-df3573be470e
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Books' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:bac83e35-3435-433a-b0b3-df3573be470e
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-01-07 13:56:58.719 +00:00 [INF] Executed action booksService.Controllers.BooksController.Create (booksService) in 192.1606ms
2022-01-07 13:56:58.720 +00:00 [INF] Executed endpoint 'booksService.Controllers.BooksController.Create (booksService)'
2022-01-07 13:56:58.721 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: data could not be saved: An error occurred while updating the entries. See the inner exception for details.
   at booksService.Services.BaseRepository`1.CreateAsync(T data) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Services\BaseRepository.cs:line 73
   at booksService.Controllers.BooksController.Create(Book book) in C:\Users\lino-\Desktop\GIT\library_microservice\booksService\src\BooksService\Controllers\BooksController.cs:line 83
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-07 13:56:58.758 +00:00 [INF] Request finished HTTP/2 POST https://localhost:1818/api/Books application/json 64 - 500 - text/plain 233.2902ms
